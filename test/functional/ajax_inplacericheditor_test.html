<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>InPlaceRichEditor Functional Tests</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="Content-Language" content="en" />
    <meta name="language" content="en" />
    <script src="../../lib/prototype.js" type="text/javascript"></script>
    <script src="../../lib/effects.js" type="text/javascript"></script>
    <script src="../../lib/controls.js" type="text/javascript"></script>
    <script src="../../lib/patch_inplaceeditor_1-8-2.js" type="text/javascript"></script>
    <script src="../../lib/patch_inplaceeditor_editonblank_1-8-2.js" type="text/javascript"></script>
    <script src="../../lib/tiny_mce/tiny_mce.js" type="text/javascript"></script>
    <script src="../../lib/tiny_mce_init.js" type="text/javascript"></script>
    <script src="../../src/inplacericheditor.js" type="text/javascript"></script>
    <style type="text/css" media="screen">
      .inplacericheditor-saving { background: url(wait.gif) bottom right no-repeat; }
      </style>
  </head>
  <body>
    <h1>InPlaceRichEditor<br/>Functional Tests</h1>

    <p id="version"></p>

    <script type="text/javascript" language="javascript" charset="utf-8">
    // <![CDATA[
      $('version').innerHTML = 'InPlaceRichEditor version 1.3.1<br/>Prototype version ' + Prototype.Version + '<br />ScriptAculoUs version : 1.8.2<br />TinyMCE version ' + tinymce.majorVersion + '.' + tinymce.minorVersion + ' (release date: ' + tinymce.releaseDate + ')';
    // ]]>
    </script>

    <h1 id="tobeedited">To be edited</h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeedited'), '_ajax_inplacericheditor_result.html', {
        ajaxOptions: {method: 'get'} //override so we can use a static for the result
      });
    // ]]>
    </script>
    <p><a href="javascript:alert(tinyMCE.getInstanceById('tobeedited-textarea-inplacericheditor'));">Check object once loaded (needed to check ImageManager / FileManager)</a></p>

    <h1 id="tobeeditedwithhtml">To be edited with <abbr title="HyperText Mark-Up Language">HTML</abbr></h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedwithhtml'), '_ajax_inplacericheditor_result.html', {
        ajaxOptions: {method: 'get'} //override so we can use a static for the result
      });
    // ]]>
    </script>

    <h1 id="tobeeditedactivate">To be edited w/ activate</h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedactivate'), '_ajax_inplacericheditor_result.html', {
        ajaxOptions: {method: 'get'}, //override so we can use a static for the result
        fieldPostCreation: 'activate'
      });
    // ]]>
    </script>

    <h1 id="tobeeditedfalse">To be edited w/ false</h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedfalse'), '_ajax_inplacericheditor_result.html', {
        ajaxOptions: {method: 'get'}, //override so we can use a static for the result
    		fieldPostCreation: false
      });
    // ]]>
    </script>

    <h1 id="tobeeditedadvanced">To be edited w/ advanced theme</h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedadvanced'), '_ajax_inplacericheditor_result.html', {
        ajaxOptions: {method: 'get'}}, //override so we can use a static for the result
        tinymce_advanced_options
      );
    // ]]>
    </script>
    
    <h1 id="tobeeditedsave">To be edited w/ saving buttons</h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedsave'), '_ajax_inplacericheditor_result.html', {
        ajaxOptions: {method: 'get'}, //override so we can use a static for the result
        tinymceSave: true}, 
        tinymce_advanced_with_save_options
      );
    // ]]>
    </script>
    
    <h1 id="tobeeditedelementsize" style="width: 700px; height: 300px;">To be edited w/ element size</h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedelementsize'), '_ajax_inplacericheditor_result.html', {
        ajaxOptions: {method: 'get'},
        tinymceToElementSize: true}, //override so we can use a static for the result
        tinymce_advanced_options
      );
    // ]]>
    </script>

    <h1 id="tobeeditedoklink">To be edited w/ okLink and cancelButton</h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedoklink'), 
        '_ajax_inplacericheditor_result.html', {
        okControl: 'link', 
        cancelControl: 'button',
        textBeforeControls: ' ---> ',
        textBetweenControls: ' | ',
        textAfterControls: ' <--- ',
        ajaxOptions: {method: 'get'} //override so we can use a static for the result
      });
    // ]]>
    </script>

    <h1 id="tobeeditedoklinkonly">To be edited w/ okLink only </h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedoklinkonly'), 
        '_ajax_inplacericheditor_result.html', {
        okControl: 'link', 
        cancelControl: false,
        textBeforeControls: ' ---> ',
        textBetweenControls: ' | ',  // will not be used, as one control only
        textAfterControls: ' <--- ',
        ajaxOptions: {method: 'get'} //override so we can use a static for the result
      });
    // ]]>
    </script>

    <span id="tobeedited2">With external edit control and custom parameter name</span> &nbsp; <a id="tobeedited2EditControl" href="#">edit</a>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeedited2'), '_ajax_inplacericheditor_result.html', {
        externalControl: 'tobeedited2EditControl',
        paramName: 'foobar',
        ajaxOptions: {method: 'get'} //override so we can use a static for the result
        });
    // ]]>
    </script>

    <table>
      <tbody>
        <tr>
          <td><span id="tobeeditedTD">Table test</span></td>
          <td><a id="tobeeditedTDEditControl" href="#">edit</a></td>
        </tr>
      </tbody>
    </table>

    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedTD'), '_ajax_inplacericheditor_result.html', {
        externalControl: 'tobeeditedTDEditControl'});
    // ]]>
    </script>

    <p><span id="tobeeditedexternalonly">With external control only</span> <a id="tobeeditedexternalonlyEditControl" href="#">edit</a></p>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedexternalonly'),
        '_ajax_inplacericheditor_result.html', {
        externalControl: 'tobeeditedexternalonlyEditControl',
    	  externalControlOnly: true,
    	  ajaxOptions: {method: 'get'} //override so we can use a static for the result
      });
    // ]]>
    </script>

    <p id="tobeedited4">Loads text from server (advanced theme obliged to disable rich editor while loading)</p>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeedited4'), '_ajax_inplacericheditor_result.html',
        {ajaxOptions: {method: 'get'}, //override so we can use a static for the result and to load the text
        loadTextURL: '_ajax_inplacericheditor_text.html'},
        tinymce_advanced_options
      );
    // ]]>
    </script>
    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>

    <h1 id="tobeeditedFarDown">Editor very far down to test scrolling bug</h1>
    <script>
    // <![CDATA[
      new Ajax.InPlaceRichEditor($('tobeeditedFarDown'),
        '../functional/_ajax_inplacericheditor_result.html');
    // ]]>
    </script>
  </body>
</html>